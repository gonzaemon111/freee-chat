.wrapper
  .side-bar
    .header
      h3.header__name
        =current_user.name
      ul.header__lists
        li.list
          =link_to new_room_path do
            =fa_icon 'pencil-square-o', class: 'icon'
        li.list
          =link_to edit_user_path(current_user) do
            =fa_icon 'cog' , class: 'icon'
    .groups
      - current_user.rooms.each do |room|
        .group
          = link_to room_messages_path(room) do
            .group__name
              = room.name
  .chatspace
    .header
      .left-header
        .left-header__title
          = @room.name
        ul.left-header__members
          | Memberï¼š
          li.member
            - @room.users.each do |user|
              = user.name
      .right-header
        .right-header__button
          = link_to "Edit", edit_room_path(@room.id), class: "btn"
    .messages
      - @messages.each do |message|
        .message data-message-id=message.id
          .up-message
            .up-message__user-name
              = message.user.name
            .up-message__date
              = message.created_at.to_s(:published_on)
          .down-message
            - if message.content.present?
              p.down-message__content
                = message.content
            - if message.image.present?
              = image_tag message.image.url, class: "down-message__image"

    .form
      = form_for [@room , @message] do |f|
        =f.text_field :content, class: 'form__message' , placeholder: 'type a message'
          .form__mask
            = f.label :image, class: 'form__mask__image' do |f|
              = fa_icon 'picture-o' , class: 'icon'
            = f.file_field :image, class: 'hidden'
        = f.submit 'Send', class: 'form__submit'
